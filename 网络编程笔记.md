#网络编程
##1.1理解网络编程和套接字



**网络编程中接受连接请求的（或者说是服务端）套接字创建过程：**

1. 调用socket函数创建套接字。
2. 调用bind函数分配IP地址和端口号。
3. 调用listen函数转为可接收请求状态。
4. 调用accept函数受理连接请求。

 
**客户端：**

1. 调用socket函数创建套接字
2. 调用connect函数请求连接
 
**文件I/O函数**
 - read
 - write
##1.2基于Linu的文件操作
对于Linux而言socket操作与文件操作没有区别。

*文件描述符file descriptor（文件句柄）：系统分配给文件或套接字的整数。
其中0、1、2是分配给标准I/O的描述符。

##1.3基于Windows平台的实现 
大多数项目都在Linux系列的操作系统下开发服务器端，而多数客户端是在Windows平台下开发的。


**Windows环境与Linux环境下套接字的实现的区别：**

1. Winsock库的初始化
2. Winsock库的注销 
3. SOCKET数据类型
 


**基于Windows的I/O函数：**
- 文件I/O函数
- 套接字I/O函数

**Winsock数据传输函数：**
- send
- recv
## 1.5习题 ##
	
1.套接字在网络编程的作用是什么？为何称它为套接字？
	答：
		
	- 套接字（socket）是一种操作系统提供的进程间通信机制。在操作系统中，通常会为应用程序提供一组应用程序接口（API），称为套接字接口（英语：socket API）。应用程序可以通过套接字接口，来使用网络套接字，以进行数据交换。在套接字接口中，以IP地址及通信端口组成套接字地址（socket address）。远程的套接字地址，以及本地的套接字地址完成连线后，再加上使用的协议（protocol），这个五元组（five-element tuple），作为套接字对（socket pairs），之后就可以彼此交换数据。（来源Wikipedia）
	- 至于为什么叫套接字，我觉得另一个翻译“插座”可能更形象。客户端与服务端的进程通信的过程可以抽象成电器的插头与供电的插孔。
		
2.在服务器端创建套接字后，会依次调用listen函数和accept函数。请比较并说明二者作用。
	答：
	- listen：创建socket后，调用listen使套接字可以接收客户端的请求。
- 	accept：调用其受理客户端连接的请求。
3.Linux中，对套接字数据进行I/O时可以直接使用文件I/O相关函数；而在Windows中则不可以。原因为何？
	答:
	- Linux内部将套接字也当做文件，而Windows则不是。
4.创建套接字后一般会分配给它地址，为什么？为了完成地址分配任务需要调用哪个函数？
	答：
	- 因为套接字之间的连接需要地址（IP+端口）
	- bind函数
5.Linux中的文件描述符与Windows的句柄实际上非常类似。请以套接字为对象说明他们的含义。
	答：
	- 在Linux下创建一个套接字返回的是文件描述符，文件描述符可以用来描述文件和套接字。而在Windows下创建套接字则返回的一个套接字句柄，句柄分为文件句柄和套接字句柄，分别用来描述文件和套接字。
6.底层文件I/O函数与ANSI标准定义的文件的I/O函数之间有何区别？
	答：
	- “底层”即由操作系统独立提供的、与标准无关的。底层文件I/O函数即由Linux操作系统提供的文件I/O函数，而非ANSI标准定义的函数。
7.参考本书给出的示例low_open.c和low_read.c,分别利用底层文件I/O和ANSI标准编写文件复制程序。可以任意指定复制程序的使用方法。
## 2.3习题 ##
（1）什么是协议？在收发数据中定义协议有何意义？
	答：
	 - 计算机件对话必备通信规则，简言之，协议就是为了完成数据交换而定好的约定。
	 - 协议规定了数据的收发标准。
（2）列出面向连接的TCP套接字传输特性。
	答：
	 - 可靠的、按序传递的、基于字节的
（3）列出面向消息的UDP套接字传输特性。
	答：
	 - 不可靠的、不按序传递的、高速的
（4）下列数据适合用哪类套接字传输？并给出原因。
	a.演唱会现场直播的多媒体数据（TCP）
	b.某人压缩过的文本文件（UDP）
	c.网上银行用户和银行之间的数据传递（TCP）
（5）何种类型的套接字不存在数据边界？这类套接字接收数据时需要注意什么？
	答：
	 - 面向消息的套接字
	 - 存在数据边界即需注意接受数据的次数和传输数据的次数应该相同。
（6）Busy Waiting指让CPU执行多余任务以延迟代码运行的方式。
## 第三章地址族与数据序列 ##
- IP（Internet Protocol）：为收发网络数据而分配给计算机的值。
- IP地址分为两类：IPv4（4字节地址族） IPv6（6字节地址族）
- 网络地址（网络ID）：区分网络
- 主机地址（主机ID）：区分主机
- 端口号：用于区分应用程序
- 主机字节序：大端序和小端序
- 网络字节序：统一为大端序
- 字节序转换：四种函数htons ntohs htonl ntohl